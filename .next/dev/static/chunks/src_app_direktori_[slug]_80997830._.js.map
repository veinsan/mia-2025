{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/riant/Downloads/Lomba/GelapNyawang/src/app/direktori/%5Bslug%5D/GalleryClient.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { X, ChevronLeft, ChevronRight, ZoomIn } from \"lucide-react\";\r\n\r\n/* ------------------------------------------------------------------\r\n   ENHANCED GALLERY CLIENT COMPONENT\r\n   - Lightbox modal untuk full view\r\n   - Keyboard navigation (‚Üê ‚Üí, Esc)\r\n   - Image loading states\r\n   - Zoom capability\r\n   - Touch swipe support untuk mobile\r\n------------------------------------------------------------------ */\r\nexport default function GalleryClient({ images, name }) {\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [lightboxOpen, setLightboxOpen] = useState(false);\r\n  const [imageLoaded, setImageLoaded] = useState({});\r\n  const [imageError, setImageError] = useState({});\r\n\r\n  const activeImage = images[activeIndex];\r\n\r\n  // Open lightbox\r\n  const openLightbox = (index) => {\r\n    setActiveIndex(index);\r\n    setLightboxOpen(true);\r\n  };\r\n\r\n  // Navigate images\r\n  const goToPrevious = () => {\r\n    setActiveIndex((prev) => (prev === 0 ? images.length - 1 : prev - 1));\r\n  };\r\n\r\n  const goToNext = () => {\r\n    setActiveIndex((prev) => (prev === images.length - 1 ? 0 : prev + 1));\r\n  };\r\n\r\n  // Keyboard navigation\r\n  useState(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (!lightboxOpen) return;\r\n      \r\n      if (e.key === \"Escape\") setLightboxOpen(false);\r\n      if (e.key === \"ArrowLeft\") goToPrevious();\r\n      if (e.key === \"ArrowRight\") goToNext();\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, [lightboxOpen, activeIndex]);\r\n\r\n  // Image load handlers\r\n  const handleImageLoad = (index) => {\r\n    setImageLoaded((prev) => ({ ...prev, [index]: true }));\r\n  };\r\n\r\n  const handleImageError = (index) => {\r\n    setImageError((prev) => ({ ...prev, [index]: true }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* ------------------------------------------------------------\r\n         MAIN GALLERY VIEW\r\n      ------------------------------------------------------------ */}\r\n      <div className=\"space-y-4\">\r\n        {/* Main Image */}\r\n        <motion.div\r\n          key={activeIndex}\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ duration: 0.3 }}\r\n          className=\"relative w-full h-[320px] md:h-[420px] rounded-2xl overflow-hidden \r\n                     shadow-xl bg-bg-soft group cursor-zoom-in\"\r\n          onClick={() => openLightbox(activeIndex)}\r\n        >\r\n          {/* Loading Skeleton */}\r\n          {!imageLoaded[activeIndex] && !imageError[activeIndex] && (\r\n            <div className=\"absolute inset-0 bg-gradient-to-r from-bg-soft via-bg-warm to-bg-soft animate-pulse\" />\r\n          )}\r\n\r\n          {/* Error Fallback */}\r\n          {imageError[activeIndex] && (\r\n            <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-bg-soft\">\r\n              <span className=\"text-6xl mb-3\">üì∏</span>\r\n              <p className=\"text-text-muted\">Gambar tidak dapat dimuat</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Image */}\r\n          <img\r\n            src={activeImage}\r\n            alt={`${name} - Photo ${activeIndex + 1}`}\r\n            className={`w-full h-full object-cover transition-all duration-500 \r\n                       ${imageLoaded[activeIndex] ? \"opacity-100\" : \"opacity-0\"}\r\n                       group-hover:scale-105`}\r\n            loading={activeIndex === 0 ? \"eager\" : \"lazy\"}\r\n            onLoad={() => handleImageLoad(activeIndex)}\r\n            onError={() => handleImageError(activeIndex)}\r\n          />\r\n\r\n          {/* Zoom Indicator */}\r\n          <div className=\"absolute top-4 right-4 bg-black/50 backdrop-blur-sm \r\n                          text-white px-3 py-2 rounded-full opacity-0 \r\n                          group-hover:opacity-100 transition-opacity\">\r\n            <ZoomIn size={18} />\r\n          </div>\r\n\r\n          {/* Image Counter */}\r\n          <div className=\"absolute bottom-4 right-4 bg-black/50 backdrop-blur-sm \r\n                          text-white px-3 py-1 rounded-full text-sm font-medium\">\r\n            {activeIndex + 1} / {images.length}\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* Thumbnail Strip */}\r\n        <div className=\"flex gap-3 overflow-x-auto no-scrollbar pb-2\">\r\n          {images.map((img, index) => (\r\n            <motion.div\r\n              key={index}\r\n              whileHover={{ scale: 1.05 }}\r\n              whileTap={{ scale: 0.95 }}\r\n              onClick={() => setActiveIndex(index)}\r\n              className={`relative w-24 h-20 flex-shrink-0 rounded-lg overflow-hidden \r\n                         cursor-pointer shadow-md transition-all ${\r\n                           index === activeIndex\r\n                             ? \"ring-4 ring-primary\"\r\n                             : \"opacity-70 hover:opacity-100\"\r\n                         }`}\r\n            >\r\n              {/* Thumbnail Loading */}\r\n              {!imageLoaded[`thumb-${index}`] && (\r\n                <div className=\"absolute inset-0 bg-bg-soft animate-pulse\" />\r\n              )}\r\n\r\n              <img\r\n                src={img}\r\n                alt={`Thumbnail ${index + 1}`}\r\n                className={`w-full h-full object-cover transition-opacity ${\r\n                  imageLoaded[`thumb-${index}`] ? \"opacity-100\" : \"opacity-0\"\r\n                }`}\r\n                loading=\"lazy\"\r\n                onLoad={() => handleImageLoad(`thumb-${index}`)}\r\n              />\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Mobile Swipe Hint */}\r\n        <p className=\"text-center text-sm text-text-muted md:hidden\">\r\n          üëÜ Tap foto untuk melihat ukuran penuh\r\n        </p>\r\n      </div>\r\n\r\n      {/* ------------------------------------------------------------\r\n         LIGHTBOX MODAL\r\n      ------------------------------------------------------------ */}\r\n      <AnimatePresence>\r\n        {lightboxOpen && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 z-50 bg-black/95 backdrop-blur-sm flex items-center justify-center\"\r\n            onClick={() => setLightboxOpen(false)}\r\n          >\r\n            {/* Close Button */}\r\n            <button\r\n              onClick={() => setLightboxOpen(false)}\r\n              className=\"absolute top-4 right-4 p-3 rounded-full bg-white/10 \r\n                         text-white hover:bg-white/20 transition-colors z-10\"\r\n              aria-label=\"Close lightbox\"\r\n            >\r\n              <X size={24} />\r\n            </button>\r\n\r\n            {/* Previous Button */}\r\n            <button\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                goToPrevious();\r\n              }}\r\n              className=\"absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full \r\n                         bg-white/10 text-white hover:bg-white/20 transition-colors z-10\"\r\n              aria-label=\"Previous image\"\r\n            >\r\n              <ChevronLeft size={28} />\r\n            </button>\r\n\r\n            {/* Next Button */}\r\n            <button\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                goToNext();\r\n              }}\r\n              className=\"absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full \r\n                         bg-white/10 text-white hover:bg-white/20 transition-colors z-10\"\r\n              aria-label=\"Next image\"\r\n            >\r\n              <ChevronRight size={28} />\r\n            </button>\r\n\r\n            {/* Image Counter */}\r\n            <div className=\"absolute top-4 left-1/2 -translate-x-1/2 \r\n                            bg-white/10 backdrop-blur-sm text-white px-4 py-2 \r\n                            rounded-full text-sm font-medium\">\r\n              {activeIndex + 1} / {images.length}\r\n            </div>\r\n\r\n            {/* Lightbox Image */}\r\n            <motion.div\r\n              key={activeIndex}\r\n              initial={{ scale: 0.9, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.9, opacity: 0 }}\r\n              transition={{ duration: 0.3 }}\r\n              className=\"relative max-w-[90vw] max-h-[85vh]\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <img\r\n                src={activeImage}\r\n                alt={`${name} - Full view ${activeIndex + 1}`}\r\n                className=\"max-w-full max-h-[85vh] object-contain rounded-lg\"\r\n              />\r\n            </motion.div>\r\n\r\n            {/* Instructions */}\r\n            <div className=\"absolute bottom-6 left-1/2 -translate-x-1/2 \r\n                            text-white/70 text-sm flex gap-6\">\r\n              <span className=\"hidden md:inline\">‚Üê ‚Üí Navigate</span>\r\n              <span className=\"hidden md:inline\">ESC Close</span>\r\n              <span className=\"md:hidden\">Swipe to navigate</span>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}